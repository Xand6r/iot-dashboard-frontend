(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{167:function(e,t,n){},168:function(e,t,n){},246:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(37),i=n.n(r),s=(n(167),n(142)),o=n(143),l=n(158),d=n(155),j=n(274),u=(n(168),n(52)),b=n(8),h=[{name:"Lab 1",title:"Check out the details of your lab here."},{name:"Lab 2",title:"Check out the details of your lab here."},{name:"Lab 3",title:"Check out the details of your lab here."},{name:"Lab 4",title:"Check out the details of your lab here."},{name:"Lab 5",title:"Check out the details of your lab here."}],f=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={data:h},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"demo-infinite-container",children:Object(b.jsx)(j.b,{className:"demo-infinite",dataSource:this.state.data,renderItem:function(e,t){return Object(b.jsx)(u.b,{to:"/dashboard/".concat(t+1),children:Object(b.jsx)(j.b.Item,{children:Object(b.jsx)(j.b.Item.Meta,{title:Object(b.jsx)("a",{href:"https://ant.design",children:e.name}),description:e.title})},e.id)})}})})}}]),n}(c.a.Component);n(246);function p(){return Object(b.jsxs)("div",{className:"home",children:[Object(b.jsx)("p",{className:"home_heading",children:"Welcome to your dashboard!"}),Object(b.jsx)("p",{className:"home_texts",children:"Here are the different labs."}),Object(b.jsx)(f,{})]})}var O=n(159),x=n(103),m=n(50),v=n(39),g=n.n(v),y=n(24),k=n(118),w=n.n(k),N=n(160),C=n(272),I=(n(133),n(79)),S=n.n(I),L=n(119),D=n(120),A=n.n(D),P="https://iot-dashboard-backend.herokuapp.com",_=function(){var e=Object(L.a)(S.a.mark((function e(t,n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post(P+t,n);case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),F=1,H=10,K=[{title:"Id",dataIndex:"_id",key:"_id",render:function(e){return Object(b.jsxs)("span",{children:[e.slice(0,7),"..."]})}},{title:"Date",dataIndex:"date",key:"date",sorter:!0,render:function(e){return Object(b.jsx)("span",{children:g()(e).format("YYYY-MM-DD HH:mm:ss")})}},{title:"Pressure",key:"pressure",dataIndex:"pressure",render:function(e){return e.map((function(e,t){return Object(b.jsx)("span",{children:Object(b.jsxs)(N.a,{color:w()({seed:"pressure-".concat(t)}),children:[e," Pa"]},"pressure-".concat(t))})}))}},{title:"Flow rate",key:"flow",dataIndex:"flow",render:function(e){return e.map((function(e,t){return Object(b.jsx)("span",{children:Object(b.jsxs)(N.a,{color:w()({seed:"pressure-".concat(t)}),children:[e," N/m",Object(b.jsx)("sup",{children:"2"})]},"pressure-".concat(t))})}))}}];function M(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(m.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(0),d=Object(m.a)(l,2),j=d[0],u=d[1],h=Object(y.f)().labid;return Object(a.useEffect)((function(){o(!0),_("/filter",{page:F,limit:H,filter:{lab:parseInt(h)}}).then((function(e){var t=e.data;console.log({res:t}),c(t.docs),u(t.totalDocs)})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{style:{textAlign:"center"},children:"Live Data View"}),Object(b.jsx)(C.a,{columns:K,pagination:{defaultCurrent:1,total:j},onChange:function(e,t,n){for(var a={},r="",i=0,s=Object.entries(t);i<s.length;i++){var l=Object(m.a)(s[i],2),d=l[0],j=l[1];j&&j.length&&(a[d]={$in:Object(x.a)(j)})}var b=n.columnKey,f=n.order;b&&f&&(r="ascend"===f?"".concat(b):"-".concat(b));var p=e.current,v=e.pageSize;o(!0),_("/filter",{page:p,limit:v,filter:Object(O.a)({lab:parseInt(h)},a),sorter:r}).then((function(e){var t=e.data;c(t.docs),u(t.totalDocs)})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))},dataSource:n,loading:s})]})}var T=n(152),Y=n.n(T);var B=function(e){var t=e.data,n=e.dataKey,a={theme:{palette:"palette10"},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},series:Object(x.a)(Array(3).keys()).map((function(e){return{name:"Pressure Sensor ".concat(e+1),data:t.map((function(t){return t[n.toLowerCase()][e]})).flat()}})),options:{chart:{height:700,type:"line",dropShadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:.2}},dataLabels:{enabled:!0},stroke:{curve:"smooth"},title:{text:"A graph of ".concat(n," vs Time"),align:"left"},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{title:{text:"Date"},type:"datetime"},labels:t.map((function(e){return e.date})),yaxis:{title:{text:"".concat(n)}}}};return Object(b.jsx)("div",{id:"chart",children:Object(b.jsx)(Y.a,{options:a.options,series:a.series,type:"line",height:350})})},E=n(273),$=n(99),J=(n(266),E.a.RangePicker),R=1,z=10;function G(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),i=Object(m.a)(r,2),s=i[0],o=i[1];Object(y.f)().labid;Object(a.useEffect)((function(){_("/filter",{page:R,limit:z}).then((function(e){var t=e.data;c(t.docs),console.log(t)})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))}),[]);return Object(b.jsxs)("div",{className:"site-statistic-demo-card",children:[Object(b.jsx)("div",{className:"range-wrapper",children:Object(b.jsx)(J,{onChange:function(e){var t=Object(m.a)(e,2),n={date:{$gte:t[0],$lte:t[1]}};o(!0),_("/filter",{page:R,limit:z,filter:n}).then((function(e){var t=e.data;c(t.docs),console.log(t)})).catch((function(e){console.log(e)})).finally((function(){o(!1)}))}})}),n.length||s?Object(b.jsxs)($.a,{spinning:s,tip:"Loading...",children:[Object(b.jsx)("div",{className:"chart-wrapper",children:Object(b.jsx)(B,{data:n,dataKey:"Pressure"})}),Object(b.jsx)("div",{className:"chart-wrapper",children:Object(b.jsx)(B,{data:n,dataKey:"flow"})})]}):Object(b.jsx)("h2",{children:"No data to display for this range"})]})}function V(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(G,{}),Object(b.jsx)(M,{})]})}var W=n(275);n(267);function q(){return Object(b.jsx)("div",{children:Object(b.jsxs)("nav",{children:[Object(b.jsx)("div",{className:"left_navbar",children:Object(b.jsx)("div",{className:"menu",children:Object(b.jsx)(u.b,{to:"/",children:Object(b.jsx)("p",{children:"IOT DASHBOARD"})})})}),Object(b.jsx)("div",{className:"right_icons",children:Object(b.jsx)(W.a,{})})]})})}n(268);var Q=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(u.a,{children:[Object(b.jsx)(q,{}),Object(b.jsx)("header",{className:"App-header",children:Object(b.jsxs)(y.c,{children:[Object(b.jsx)(y.a,{path:"/",component:p,exact:!0}),Object(b.jsx)(y.a,{path:"/dashboard/:labid",component:V,exact:!0})]})})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,276)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(Q,{})}),document.getElementById("root")),U()}},[[269,1,2]]]);
//# sourceMappingURL=main.3796e231.chunk.js.map