{"version":3,"sources":["components/list/List.js","pages/home/Home.js","api/index.js","components/table/Table.js","components/table/statistic/chart.js","components/table/statistic/Statistics.js","pages/dashboard/Index.js","api/socket.js","components/Navbar.js","App.js","reportWebVitals.js","index.js"],"names":["INITIAL_DATA","name","title","InfiniteListExample","state","data","className","dataSource","this","renderItem","item","index","to","Item","Meta","href","description","id","React","Component","Home","URL","postReq","path","obj","a","axios","post","response","DEFAULT_PAGINATION","columns","dataIndex","key","render","tag","sorter","datetime","moment","format","pressures","map","onePressure","color","randomColor","seed","flows","oneFlow","Demo","socket","useState","setData","createdEvent","setCreatedEvent","loading","setLoading","total","setTotal","labid","useParams","useEffect","on","payload","parseInt","lab","console","log","t","d","params","page","limit","filter","then","res","docs","totalDocs","catch","err","finally","style","textAlign","pagination","defaultCurrent","onChange","filters","sorters","finalFilter","Object","entries","value","length","$in","columnKey","order","current","pageSize","ApexChart","dataKey","theme","palette","animations","enabled","easing","speed","animateGradually","delay","dynamicAnimation","series","Array","keys","toLowerCase","flat","options","chart","height","type","dropShadow","top","left","blur","opacity","dataLabels","stroke","curve","text","align","grid","borderColor","row","colors","xaxis","labels","date","yaxis","RangePicker","DatePicker","Statistics","newValue","$gte","$lte","spinning","tip","Index","setSocket","newSocket","io","Navbar","UserOutlined","App","component","exact","Dashboard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.94d2736a.chunk.js","sourcesContent":["import React from 'react';\nimport { List, Avatar } from 'antd';\nimport './List.scss';\nimport { Link } from \"react-router-dom\";\n\nconst INITIAL_DATA = [\n  {\n    name: \"Lab 1\",\n    title: \"Check out the details of your lab here.\"\n  },\n  {\n    name: \"Lab 2\",\n    title: \"Check out the details of your lab here.\"\n  },\n  {\n    name: \"Lab 3\",\n    title: \"Check out the details of your lab here.\"\n  },\n  {\n    name: \"Lab 4\",\n    title: \"Check out the details of your lab here.\"\n  },\n  {\n    name: \"Lab 5\",\n    title: \"Check out the details of your lab here.\"\n  },\n];\n\nexport default class InfiniteListExample extends React.Component {\n  state = {\n    data: INITIAL_DATA\n  };\n\n  render() {\n    return (\n      <div className=\"demo-infinite-container\">\n          <List\n            className=\"demo-infinite\"\n            dataSource={this.state.data}\n            renderItem={(item, index) => (\n              <Link to={`/dashboard/${index + 1}`}>\n              <List.Item key={item.id}>\n                <List.Item.Meta\n                  title={<a href=\"https://ant.design\">{item.name}</a>}\n                  description={item.title}\n                />\n              </List.Item>\n              </Link>\n            )}\n          >\n          </List>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport List from '../../components/list/List';\nimport './Home.scss';\n\nexport default function Home() {\n    return (\n        <div className=\"home\">\n            <p className=\"home_heading\">Welcome to your dashboard!</p>\n            <p className=\"home_texts\">\n                Here are the different labs.\n            </p>\n            <List />\n        </div>\n    )\n}\n","import axios from \"axios\";\n\n// export const URL = 'http://localhost:8080'; //production\nexport const URL = 'https://iot-dashboard-backend.herokuapp.com'; //URL\n\n// preset requests set\nexport const postReq = async (path, obj) => {\n  try {\n    const response = await axios.post(URL + path, obj);\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getReq = async (path) => {\n  try {\n    const response = await axios.get(URL + path);\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React, { useState, useEffect } from \"react\";\nimport moment  from 'moment';\nimport { useParams } from \"react-router-dom\";\nimport randomColor from \"randomcolor\";\nimport { Table, Tag, Radio } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport { postReq } from \"../../api\";\n\nconst DEFAULT_PAGINATION = {\n  page: 1,\n  limit: 10\n};\n\nconst DATE_FORMAT = \"YYYY-MM-DD HH:mm:ss\"\n\nconst columns = [\n  {\n    title: \"Id\",\n    dataIndex: \"_id\",\n    key: \"_id\",\n    render: (tag) => (\n      <span>\n        {tag}\n      </span>\n    ),\n  },\n\n  {\n    title: \"Date\",\n    dataIndex: \"date\",\n    key: \"date\",\n    sorter: true,\n    render: (datetime) => (\n      <span>\n        {moment(datetime).format(DATE_FORMAT)}\n      </span>\n    ),\n  },\n\n  {\n    title: \"Pressure\",\n    key: \"pressure\",\n    dataIndex: \"pressure\",\n    render: (pressures) => (\n      pressures.map((onePressure, index) => (\n        <span>\n          <Tag color={randomColor({seed: `pressure-${index}`})} key={`pressure-${index}`}>\n            {onePressure} Pa\n          </Tag>\n        </span>\n      ))\n    ),\n  },\n\n\n  {\n    title: \"Flow rate\",\n    key: \"flow\",\n    dataIndex: \"flow\",\n    render: (flows) => (\n      flows.map((oneFlow, index) => (\n        <span>\n          <Tag color={randomColor({seed: `pressure-${index}`})} key={`pressure-${index}`}>\n            {oneFlow} m<sup>3</sup>/h\n          </Tag>\n        </span>\n      ))\n    ),\n  },\n];\n\nexport default function Demo({socket}) {\n  const [data, setData] = useState([]);\n  const [createdEvent, setCreatedEvent] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [total, setTotal] = useState(0);\n  const { labid } = useParams();\n\n  useEffect(() => {\n    if(!socket) return;\n    if(createdEvent) return;\n    setCreatedEvent(true);\n    socket.on(\"NEW_DATA\", (payload) => {\n      if(parseInt(payload.lab) != parseInt(labid)) return console.log('invalid');\n      setTotal(t => t + 1);\n      setData(d => {\n        const newValue = [payload, ...d];\n        return newValue;\n      });\n    });\n  }, [socket]);\n\n  const tablesParamsOnChange = (pagination, filters, sorters) => {\n    // loop through the filters to construct a filter array\n    let finalFilter = {};\n    let sorter = \"\";\n    // generate a filter object based on the filters entered\n    for (let [key, value] of Object.entries(filters)) {\n      if (value && value.length) {\n        finalFilter[key] = { $in: [...value] };\n      }\n    }\n    // generate the sorter\n    const { columnKey, order } = sorters;\n    if (columnKey && order) {\n      sorter = order === \"ascend\" ? `${columnKey}` : `-${columnKey}`;\n    }\n    // generate pagination params\n    const { current: page, pageSize: limit } = pagination;\n  \n    // fetch the required data\n    setLoading(true);\n    postReq('/filter', {\n      page: page,\n      limit: limit,\n      filter: {\n        lab: parseInt(labid),\n        ...finalFilter\n      },\n      sorter\n    })\n    .then(({data:res}) => {\n      setData(res.docs);\n      setTotal(res.totalDocs);\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      setLoading(false)\n    })\n  };\n\n\n  useEffect(() => {\n    setLoading(true);\n    const params = {\n      page: DEFAULT_PAGINATION.page,\n      limit: DEFAULT_PAGINATION.limit,\n      filter: {\n        lab: parseInt(labid)\n      },\n      sorter: \"-date\"\n    }\n    console.log({params});\n    postReq('/filter', params)\n    .then(({data:res}) => {\n      console.log({res});\n      setData(res.docs);\n      setTotal(res.totalDocs);\n    })\n    .catch(err => {\n      console.log(err);\n    })\n    .finally(() => {\n      setLoading(false)\n    })\n  }, []);\n\n\n  return (\n    <div>\n      <h2 style={{textAlign: \"center\"}}>\n        Live Data View\n      </h2>\n      <Table\n        columns={columns}\n        pagination={{\n          defaultCurrent: 1,\n          total: total,\n        }}\n        onChange={tablesParamsOnChange}\n        dataSource={data}\n        loading={loading}\n      />\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport moment from \"moment\";\nimport ReactApexChart from \"react-apexcharts\";\n\nconst SENSOR_COUNT = 3; //the number of sensors there are;\n\nfunction ApexChart({ data, dataKey }) {\n  const state = {\n    theme: {\n      palette: \"palette10\", // upto palette10\n    },\n    animations: {\n      enabled: true,\n      easing: \"easeinout\",\n      speed: 800,\n      animateGradually: {\n        enabled: true,\n        delay: 150,\n      },\n      dynamicAnimation: {\n        enabled: true,\n        speed: 350,\n      },\n    },\n    series: [...Array(SENSOR_COUNT).keys()].map((index) => ({\n      name: `${dataKey} Sensor ${index + 1}`,\n      data: data.map((data) => data[dataKey.toLowerCase()][index]).flat(),\n    })),\n    options: {\n      chart: {\n        height: 700,\n        type: \"line\",\n        dropShadow: {\n          enabled: true,\n          color: \"#000\",\n          top: 18,\n          left: 7,\n          blur: 10,\n          opacity: 0.2,\n        },\n      },\n      dataLabels: {\n        enabled: true,\n      },\n      stroke: {\n        curve: \"smooth\",\n      },\n      title: {\n        text: `A graph of ${dataKey} vs Time`,\n        align: \"left\",\n      },\n      grid: {\n        borderColor: \"#e7e7e7\",\n        row: {\n          colors: [\"#f3f3f3\", \"transparent\"], // takes an array which will be repeated on columns\n          opacity: 0.5,\n        },\n      },\n      xaxis: {\n        title: {\n          text: \"Date\",\n        },\n        type: \"datetime\",\n      },\n      labels: data.map(({ date }) => date),\n      yaxis: {\n        title: {\n          text: `${dataKey}`,\n        },\n      },\n    },\n  };\n\n  return (\n    <div id=\"chart\">\n      <ReactApexChart\n        options={state.options}\n        series={state.series}\n        type=\"line\"\n        height={350}\n      />\n    </div>\n  );\n}\n\nexport default ApexChart;\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Chart from \"./chart\";\nimport { postReq } from \"../../../api\";\nimport { DatePicker, Spin } from \"antd\";\n\nimport \"antd/dist/antd.css\"; // or 'antd/dist/antd.less'\nimport \"./Statistic.scss\";\n\nconst { RangePicker } = DatePicker;\nconst DEFAULT_PAGINATION = {\n\tpage: 1,\n\tlimit: 10,\n};\n\nexport default function Statistics({ socket }) {\n\tconst [data, setData] = useState([]);\n\tconst [createdEvent, setCreatedEvent] = useState(false);\n\tconst [loading, setLoading] = useState(true);\n\tconst { labid } = useParams();\n\n\tuseEffect(() => {\n\t\tif (!socket) return;\n\t\tif (createdEvent) return;\n\t\tsetCreatedEvent(true);\n\t\tsocket.on(\"NEW_DATA\", (payload) => {\n\t\t\tif(parseInt(payload.lab) != parseInt(labid)) return console.log('invalid');\n\t\t\tsetData((d) => {\n\t\t\t\tconst newValue = [payload, ...d];\n\t\t\t\tconsole.log(newValue);\n\t\t\t\treturn newValue;\n\t\t\t});\n\t\t});\n\t}, [socket]);\n\n\tuseEffect(() => {\n\t\tconst filter = {\n\t\t\tlab: labid,\n\t\t};\n\t\tpostReq(\"/filter\", {\n\t\t\tpage: DEFAULT_PAGINATION.page,\n\t\t\tlimit: DEFAULT_PAGINATION.limit,\n\t\t\tfilter,\n      sorter: '-date'\n\t\t})\n\t\t\t.then(({ data: res }) => {\n\t\t\t\tsetData(res.docs);\n\t\t\t\tconsole.log(res);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t}, []);\n\n\tconst onDateChange = (date) => {\n\t\tconst [start, stop] = date;\n\t\t// fetch new data based on the pagination data\n\t\tconst filter = {\n\t\t\tdate: {\n\t\t\t\t$gte: start,\n\t\t\t\t$lte: stop,\n\t\t\t},\n\t\t\tlab: labid,\n      sorter: '-date'\n\t\t};\n\t\tsetLoading(true);\n\t\tpostReq(\"/filter\", {\n\t\t\tpage: DEFAULT_PAGINATION.page,\n\t\t\tlimit: DEFAULT_PAGINATION.limit,\n\t\t\tfilter,\n\t\t})\n\t\t\t.then(({ data: res }) => {\n\t\t\t\tsetData(res.docs);\n\t\t\t\tconsole.log(res);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"site-statistic-demo-card\">\n\t\t\t<div className=\"range-wrapper\">\n\t\t\t\t<RangePicker onChange={onDateChange} />\n\t\t\t</div>\n\t\t\t{!data.length && !loading ? (\n\t\t\t\t<h2>No data to display for this range</h2>\n\t\t\t) : (\n\t\t\t\t<Spin spinning={loading} tip=\"Loading...\">\n\t\t\t\t\t<div className=\"chart-wrapper\">\n\t\t\t\t\t\t<Chart data={data} dataKey={\"Pressure\"} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"chart-wrapper\">\n\t\t\t\t\t\t<Chart data={data} dataKey={\"flow\"} />\n\t\t\t\t\t</div>\n\t\t\t\t</Spin>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport Table from \"../../components/table/Table\";\nimport Statistic from \"../../components/table/statistic/Statistics\";\nimport { getSocket } from \"../../api/socket\";\n\n// import './Dashboard.scss';\n\nexport default function Index() {\n    const [socket, setSocket] = React.useState(null);\n\n    React.useEffect(() => {\n        if(socket) return;\n        console.log(\"setting\");\n        const newSocket = getSocket();\n        setSocket(newSocket);\n    }, []);\n\n    return (\n        <div>\n            <Statistic socket={socket} />\n            <Table socket={socket} />\n        </div>\n    );\n}\n","import io from \"socket.io-client\";\nimport { URL } from './index';\n\n\nexport const getSocket = (userId) => io(URL);\n\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { UserOutlined } from '@ant-design/icons';\nimport './Navbar.scss'\n\nexport default function Navbar() {\n    return (\n        <div>\n            <nav>\n                <div className='left_navbar'>\n                <div className='menu'>\n                <Link to=\"/\">\n                    <p>IOT DASHBOARD</p>\n                </Link>\n                </div>\n                </div>\n                <div className=\"right_icons\">\n                    <UserOutlined  />\n                </div>\n            </nav>\n        </div>\n    )\n}\n","import Home from './pages/home/Home';\nimport Dashboard from './pages/dashboard/Index';\nimport Navbar from './components/Navbar';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n} from \"react-router-dom\";\nimport './App.scss';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Router>\n          <Navbar />\n          <header className=\"App-header\">\n            <Switch>\n              <Route path=\"/\" component={Home} exact/>\n              <Route path=\"/dashboard/:labid\" component={Dashboard} exact />\n            </Switch>\n          </header>\n        </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}